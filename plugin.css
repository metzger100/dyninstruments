/* dyninstruments â€” plugin-wide styles (clustered build)
   Scope styling only to widgets of this plugin. */

/* 0) Plugin font (scoped): used by canvas and any HTML renderers. */
.widget.dyniplugin,
[data-dyni] {
  --dyni-font: "Inter", "SF Pro Text", -apple-system, "Segoe UI", Roboto,
               "Helvetica Neue", "Noto Sans", Ubuntu, Cantarell, "Liberation Sans",
               Arial, system-ui, "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji";
  --dyni-pointer: #ff2b2b;
  --dyni-warning: #e7c66a;
  --dyni-alarm: #ff7a76;
  --dyni-layline-stb: #82b683;
  --dyni-layline-port: #ff7a76;
  --dyni-tick-major-len: 9;
  --dyni-tick-major-width: 2;
  --dyni-tick-minor-len: 5;
  --dyni-tick-minor-width: 1;
  --dyni-pointer-side: 0.25;
  --dyni-pointer-length: 2;
  --dyni-arc-linewidth: 1;
  --dyni-ring-width: 0.12;
  --dyni-label-inset: 1.8;
  --dyni-label-font: 0.14;
  --dyni-fullcircle-normal-inner-margin: 0.03;
  --dyni-fullcircle-normal-min-height: 0.45;
  --dyni-fullcircle-normal-dual-gap: 0.05;
  --dyni-font-weight: 700;
  --dyni-label-weight: 700;
  --dyni-xte-line-width-factor: 1;
  font-family: var(--dyni-font);
}

/* 0.1) Preset token overrides (applied via ThemePresets data attribute). */
.dyniplugin[data-dyni-theme="slim"],
[data-dyni][data-dyni-theme="slim"] {
  --dyni-arc-linewidth: 0.5;
  --dyni-ring-width: 0.09;
  --dyni-tick-major-width: 1.5;
  --dyni-tick-minor-width: 0.75;
  --dyni-pointer-side: 0.18;
  --dyni-label-weight: 400;
  --dyni-xte-line-width-factor: 0.85;
}

.dyniplugin[data-dyni-theme="bold"],
[data-dyni][data-dyni-theme="bold"] {
  --dyni-arc-linewidth: 2;
  --dyni-ring-width: 0.16;
  --dyni-tick-major-len: 12;
  --dyni-tick-major-width: 3;
  --dyni-tick-minor-len: 7;
  --dyni-tick-minor-width: 1.5;
  --dyni-pointer-side: 0.35;
  --dyni-pointer-length: 2.2;
  --dyni-xte-line-width-factor: 1.5;
}

.dyniplugin[data-dyni-theme="night"],
[data-dyni][data-dyni-theme="night"] {
  --dyni-pointer: #cc2222;
  --dyni-warning: #8b6914;
  --dyni-alarm: #992222;
  --dyni-layline-stb: #3d6b3d;
  --dyni-layline-port: #8b3333;
}

.dyniplugin[data-dyni-theme="highcontrast"],
[data-dyni][data-dyni-theme="highcontrast"] {
  --dyni-pointer: #ff0000;
  --dyni-warning: #ffcc00;
  --dyni-alarm: #ff3300;
  --dyni-arc-linewidth: 2;
  --dyni-tick-major-width: 3;
  --dyni-tick-minor-width: 2;
  --dyni-pointer-side: 0.35;
  --dyni-xte-line-width-factor: 1.3;
}

/* 1) Hide AvNav's native header/value ONLY inside our widgets. */
[data-dyni] .widgetHead,
[data-dyni] .valueData {
  display: none !important;
}

/* 2) Uniform border for ALL instruments (day/night compatible). */
.widget.dyniplugin,
.widget[data-dyni] {
  box-sizing: border-box;
  position: relative;
  border: 1px solid var(--dyni-border-day, rgba(0, 0, 0, 0.30));
}

/* Night mode border color. */
.nightMode .widget.dyniplugin,
.nightMode .widget[data-dyni] {
  border-color: var(--dyni-border-night, rgba(252, 11, 11, 0.18));
}

/* Ensure the canvas uses the full widget area. */
[data-dyni] canvas.widgetData {
  width: 100% !important;
  height: 100% !important;
  display: block;
}
